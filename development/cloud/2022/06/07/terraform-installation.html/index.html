<!DOCTYPE html>
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&display=swap"
    rel="stylesheet">

<html class="no-js">
<head>
    <meta charset="utf-8">

    <base href="https://mingzz1.github.io/">
    <title> mingzzi&#39;s blog </title>
    <meta name="description" content="mingzzi&#39;s blog">

    <link rel="canonical" href="https://mingzz1.github.io/development/cloud/2022/06/07/terraform-installation.html/">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />

    
    <link rel="stylesheet" href="https://mingzz1.github.io/sass/main.min.94d6e676b5b11c22f591951fd9b4e6ab0f6a3179daac45918d1fbc53ed631f00.css">

    <link rel="shortcut icon" href="https://mingzz1.github.io/img/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" type="text/css"
        href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">


    <script src="https://code.jquery.com/jquery-1.12.4.min.js"
        integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>

    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-130304424-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-130304424-1');
    </script>

    
    <script data-ad-client="ca-pub-1587587893565234" async
        src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

    <script>
        $(function () {
            $(".cat1>li").click(function () {
                $(this).siblings().find('ul').slideUp(300);
                $(this).find('ul').slideToggle(300);
            })

            $(window).scroll(function () {
                activeBg();
            });

            activeBg();


            $('.h-menu').click(function (e) {
                e.preventDefault();
                $('.side').addClass('on');
            });

            $('.close').click(function (e) {
                e.preventDefault();
                $('.side').removeClass('on');
            });

            $('ul.slide>li').click(function () {
                if ($(this).find('.down').hasClass('on')) {
                    $(this).find('.down').removeClass('on');
                    $(this).find('.down').prev().stop().slideUp(500);
                } else {
                    $(this).find('.down').addClass('on');
                    $(this).find('.down').prev().stop().slideDown(500);
                }
            })
        })

        function activeBg() {
            if ($(window).scrollTop() > 0) {
                $('.site-header').addClass('on');
            } else {
                $('.site-header').removeClass('on');
            }
        }

    </script>
</head>
<header class="site-header">
    <h1 class="web-t" onclick="window.location.href='/'"><span>def</span><em> 천방지축 얼렁뚱땅
        </em><span>(</span><i>🤣</i><span>)</span>:<br />
        &nbsp;&nbsp;&nbsp;&nbsp;<span class="nbsp">title =</span> 빙글빙글 돌아가는 우당탕탕 시큐로그
        <br />
    </h1>

    <h1 class="mob-t" onclick="window.location.href='/'">
        <span>천/얼/빙/돌(</span><i>🤣</i><span>)</span>
        <br />우당탕탕 시큐로그
    </h1>

    <nav>
        <div class="h-menu">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <div class="side">
            <div class="close">
                <span></span>
                <span></span>
            </div>
            <ul class="slide">
                <li class="on"><a href="#">All Post</a>
                </li>
                <li><a>Pentesting</a>
                    <ul>
                        <li><a href="https://mingzz1.github.io//pentesting/ios">iOS</a></li>
                        <li><a href="https://mingzz1.github.io//pentesting/android">Android</a></li>
                        <li><a href="https://mingzz1.github.io//pentesting/web">Web</a></li>
                        <li><a href="https://mingzz1.github.io//pentesting/cloud">Cloud</a></li>
                    </ul>
                    <span class="down"></span>
                </li>
                <li><a>Wargame</a>
                    <ul>
                        <li><a href="https://mingzz1.github.io//wargame/lord-of-sql-injection">Lord of SQL Injection</a></li>
                        <li><a href="https://mingzz1.github.io//wargame/pwnable.kr">Pwnable.kr</a></li>
                        <li><a href="https://mingzz1.github.io//wargame/wargame.kr">Wargame.kr</a></li>
                        <li><a href="https://mingzz1.github.io//wargame/xss-game">XSS Game</a></li>
                        <li><a href="https://mingzz1.github.io//wargame/owasp">OWASP-MSTG Crackmes</a></li>
                    </ul>
                    <span class="down"></span>
                </li>
                <li><a>CTF</a>
                    <ul>
                        <li><a href="https://mingzz1.github.io//ctf/2018">2018</a></li>
                        <li><a href="https://mingzz1.github.io//ctf/2019">2019</a></li>
                    </ul>
                    <span class="down"></span>
                </li>
                <li><a>Error</a>
                    <ul>
                        <li><a href="https://mingzz1.github.io//error/linux">Linux</a></li>
                        <li><a href="https://mingzz1.github.io//error/windows">Windows</a></li>
                        <li><a href="https://mingzz1.github.io//error/python">Python</a></li>
                    </ul>
                    <span class="down"></span>
                </li>
                <li><a>Development</a>
                    <ul>
                        <li><a href="https://mingzz1.github.io//development/basic">Basic</a></li>
                        <li><a href="https://mingzz1.github.io//development/web">Web</a></li>
                        <li><a href="https://mingzz1.github.io//development/mobile">Mobile</a></li>
                        <li><a href="https://mingzz1.github.io//development/database">Database</a></li>
                        <li><a href="https://mingzz1.github.io//development/docker">Docker</a></li>
                        <li><a href="https://mingzz1.github.io//development/github-blog">Github Blog</a></li>
                        <li><a href="https://mingzz1.github.io//development/secure-coding">Secure Coding</a></li>
                        <li><a href="https://mingzz1.github.io//development/cloud">Cloud</a></li>
                    </ul>
                    <span class="down"></span>
                </li>
                <hr />
                <li><a href="https://mingzz1.github.io//about">About</a></li>
                <li><a href="https://mingzz1.github.io//archive">Archive</a></li>
                <li><a href="https://mingzz1.github.io//tags">Tag</a></li>
            </ul>
        </div>
    </nav>
</header>

<body>
    <div class="content">
        
        

<article>
    <header>
        <h1 class="title">[Terraform 사용기] Terraform 설치하기</h1>
        <p class="meta">
            2022-06-07
        </p>
    </header>
    <section class="post-content"><p>공부해야지 공부해야지 다짐만 하다가 드디어 시작힌 <code>Terraform</code> 공부다.
현생이 너무 바빠 이제서야 시작했지만, 튜토리얼부터 차근차근 해보려 한다.</p>
<p><code>Terraform</code> 이란, <code>Hashicorp</code> 라는 곳에서 오픈소스로 개발 중인 <code>IaC(Infrastructure as Code)</code> 도구이다.
<code>IaC</code> 라는 개념이 생소 할 수도 있는데 단순하게 설명하자면, 예를 들어 AWS에서 특정 사양의 인스턴스를 1개만 생성 할 경우에는 AWS Console에서 버튼을 하나하나 클릭하며 생성해도 얼마 걸리지 않는다.
하지만 인스턴스를 100개 혹은 1000개를 생성해야 한다면? AWS Console에서 하기에는 쉽지 않은 작업이 될 것이다.
이 때 사용하는게 <code>IaC</code> 이다. 인프라를 관리하기 위한 코드를 구현하고, 해당 코드를 실행시켜 클라우드 인스턴스를 생성하는 등의 작업을 할 수 있다.</p>
<p>각 클라우드 서비스에는 <code>IaC</code> 기능이 각자 있겠지만, <code>Terraform</code>은 AWS, Azure, GCP 등 대부분의 클라우드 서비스에서 동일하게 사용할 수 있다.
또한 <code>plan</code> 이 후 <code>apply</code>를 하기 때문에 <code>plan</code>을 통해 먼저 내가 구현한 코드를 실행했을 때 어떠한 결과가 나올 지를 확인하고 <code>apply</code>를 통해 반영할 수 있다.
더 자세한 설명은 <a href="https://www.terraform.io/intro">Terraform 공식 홈페이지</a>에서 확인하면 된다.</p>
<p>먼저 내가 참고한 튜토리얼 과정은 <a href="https://learn.hashicorp.com/tutorials/terraform/infrastructure-as-code?in=terraform/aws-get-started">여기</a>에서 확인할 수 있다.
참고로 <code>AWS</code> 기준이며, 다른 클라우드 서비스를 사용 할 경우 그에 맞는 튜토리얼을 보면 되는 것 같다.
(다른 클라우드 서비스를 보고싶은 경우 왼쪽 목차 상단의 <code>AWS</code>를 누르면 목록을 확인할 수 있다.)</p>
<p>나는 <code>Ubuntu</code>를 사용했기 때문에 모든 설명은 <code>Ubuntu</code>를 기준으로 할 예정이다.
<code>Ubuntu에서의 Terraform 설치</code>는 매우 간단하다.
아래 명령어를 차례로 입력하면 된다.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#6272a4"># gnupg, software-properties-common, curl 패키지 설치 - HashiCorp&#39;s GPG signature 검증 및 HashiCorp&#39;s Debian package repository 설치에 사용</span>
$ sudo apt-get update <span style="color:#ff79c6">&amp;&amp;</span> sudo apt-get install -y gnupg software-properties-common curl
<span style="color:#6272a4"># HashiCorp GPG key 추가</span>
$ curl -fsSL https://apt.releases.hashicorp.com/gpg | sudo apt-key add -
<span style="color:#6272a4"># HashiCorp Linux repository 추가</span>
$ sudo apt-add-repository <span style="color:#f1fa8c">&#34;deb [arch=amd64] https://apt.releases.hashicorp.com </span><span style="color:#ff79c6">$(</span>lsb_release -cs<span style="color:#ff79c6">)</span><span style="color:#f1fa8c"> main&#34;</span>
<span style="color:#6272a4"># update 및 Terraform CLI 설치</span>
$ sudo apt-get update <span style="color:#ff79c6">&amp;&amp;</span> sudo apt-get install terraform
</code></pre></td></tr></table>
</div>
</div><p>이 후 <code>terraform -help</code> 명령어를 실행했을 때 아래와 같이 설명이 출력된다면 제대로 설치가 된 것이다.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ terraform -help
Usage: terraform <span style="color:#ff79c6">[</span>global options<span style="color:#ff79c6">]</span> &lt;subcommand&gt; <span style="color:#ff79c6">[</span>args<span style="color:#ff79c6">]</span>

The available commands <span style="color:#ff79c6">for</span> execution are listed below.
The primary workflow commands are given first, followed by
less common or more advanced commands.

Main commands:
  init          Prepare your working directory <span style="color:#ff79c6">for</span> other commands
  validate      Check whether the configuration is valid
  plan          Show changes required by the current configuration
  apply         Create or update infrastructure
  destroy       Destroy previously-created infrastructure

All other commands:
  console       Try Terraform expressions at an interactive <span style="color:#8be9fd;font-style:italic">command</span> prompt
  fmt           Reformat your configuration in the standard style
  force-unlock  Release a stuck lock on the current workspace
  get           Install or upgrade remote Terraform modules
  graph         Generate a Graphviz graph of the steps in an operation
  import        Associate existing infrastructure with a Terraform resource
  login         Obtain and save credentials <span style="color:#ff79c6">for</span> a remote host
  <span style="color:#8be9fd;font-style:italic">logout</span>        Remove locally-stored credentials <span style="color:#ff79c6">for</span> a remote host
  output        Show output values from your root module
  providers     Show the providers required <span style="color:#ff79c6">for</span> this configuration
  refresh       Update the state to match remote systems
  show          Show the current state or a saved plan
  state         Advanced state management
  taint         Mark a resource instance as not fully functional
  <span style="color:#8be9fd;font-style:italic">test</span>          Experimental support <span style="color:#ff79c6">for</span> module integration testing
  untaint       Remove the <span style="color:#f1fa8c">&#39;tainted&#39;</span> state from a resource instance
  version       Show the current Terraform version
  workspace     Workspace management

Global options <span style="color:#ff79c6">(</span>use these before the subcommand, <span style="color:#ff79c6">if</span> any<span style="color:#ff79c6">)</span>:
  -chdir<span style="color:#ff79c6">=</span>DIR    Switch to a different working directory before executing the
                given subcommand.
  -help         Show this <span style="color:#8be9fd;font-style:italic">help</span> output, or the <span style="color:#8be9fd;font-style:italic">help</span> <span style="color:#ff79c6">for</span> a specified subcommand.
  -version      An <span style="color:#8be9fd;font-style:italic">alias</span> <span style="color:#ff79c6">for</span> the <span style="color:#f1fa8c">&#34;version&#34;</span> subcommand.
</code></pre></td></tr></table>
</div>
</div><p><code>Terraform</code>을 설치하였으니 이를 활용하여 간단한 <code>Nginx</code> 서버를 띄워보려 한다.
테스트를 하기 위해서는 <a href="https://mingzz1.github.io/development/docker/2022/06/06/docker-installation.html/">Docker가 설치</a>되어 있어야 한다.</p>
<p>Docker 설치가 완료되었다면 테스트 용으로 폴더를 하나 생성하여 아래와 같이 <code>main.tf</code>를 생성한다.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ mkdir learn-terraform-docker-container
$ <span style="color:#8be9fd;font-style:italic">cd</span> learn-terraform-docker-container
</code></pre></td></tr></table>
</div>
</div><p>이 때 <code>main.tf</code>의 내용은 아래와 같다.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#6272a4"># main.tf</span>
terraform <span style="color:#ff79c6">{</span>
  required_providers <span style="color:#ff79c6">{</span>
    <span style="color:#8be9fd;font-style:italic">docker</span> <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">{</span>
      <span style="color:#8be9fd;font-style:italic">source</span>  <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;kreuzwerker/docker&#34;</span>
      <span style="color:#8be9fd;font-style:italic">version</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;~&gt; 2.13.0&#34;</span>
    <span style="color:#ff79c6">}</span>
  <span style="color:#ff79c6">}</span>
<span style="color:#ff79c6">}</span>

provider <span style="color:#f1fa8c">&#34;docker&#34;</span> <span style="color:#ff79c6">{}</span>

resource <span style="color:#f1fa8c">&#34;docker_image&#34;</span> <span style="color:#f1fa8c">&#34;nginx&#34;</span> <span style="color:#ff79c6">{</span>
  <span style="color:#8be9fd;font-style:italic">name</span>         <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;nginx:latest&#34;</span>
  <span style="color:#8be9fd;font-style:italic">keep_locally</span> <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">false</span>
<span style="color:#ff79c6">}</span>

resource <span style="color:#f1fa8c">&#34;docker_container&#34;</span> <span style="color:#f1fa8c">&#34;nginx&#34;</span> <span style="color:#ff79c6">{</span>
  <span style="color:#8be9fd;font-style:italic">image</span> <span style="color:#ff79c6">=</span> docker_image.nginx.latest
  <span style="color:#8be9fd;font-style:italic">name</span>  <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;tutorial&#34;</span>
  ports <span style="color:#ff79c6">{</span>
    <span style="color:#8be9fd;font-style:italic">internal</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">80</span>
    <span style="color:#8be9fd;font-style:italic">external</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">8000</span>
  <span style="color:#ff79c6">}</span>
<span style="color:#ff79c6">}</span>
</code></pre></td></tr></table>
</div>
</div><p>다음으로 Terraform이 Docker와 상호작용할 수 있도록 하는 플러그인을 다운받기 위해 아래와 같이 프로젝트를 initializing 한다.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ terraform init

Initializing the backend...

Initializing provider plugins...
- Finding kreuzwerker/docker versions matching <span style="color:#f1fa8c">&#34;~&gt; 2.13.0&#34;</span>...
- Installing kreuzwerker/docker v2.13.0...
- Installed kreuzwerker/docker v2.13.0 <span style="color:#ff79c6">(</span>self-signed, key ID 24E54F214569A8A5<span style="color:#ff79c6">)</span>

Partner and community providers are signed by their developers.
If you&#39;d like to know more about provider signing, you can <span style="color:#8be9fd;font-style:italic">read</span> about it here:
https://www.terraform.io/docs/cli/plugins/signing.html

Terraform has created a lock file .terraform.lock.hcl to record the provider
selections it made above. Include this file in your version control repository
so that Terraform can guarantee to make the same selections by default when
you run <span style="color:#f1fa8c">&#34;terraform init&#34;</span> in the future.

Terraform has been successfully initialized!

You may now begin working with Terraform. Try running <span style="color:#f1fa8c">&#34;terraform plan&#34;</span> to see
any changes that are required <span style="color:#ff79c6">for</span> your infrastructure. All Terraform commands
should now work.

If you ever <span style="color:#8be9fd;font-style:italic">set</span> or change modules or backend configuration <span style="color:#ff79c6">for</span> Terraform,
rerun this <span style="color:#8be9fd;font-style:italic">command</span> to reinitialize your working directory. If you forget, other
commands will detect it and remind you to <span style="color:#ff79c6">do</span> so <span style="color:#ff79c6">if</span> necessary.
</code></pre></td></tr></table>
</div>
</div><p>이 후 <code>terraform apply</code>를 입력 할 경우 <code>Enter a value: </code>라는 입력 칸이 나오며, 이 때 <code>yes</code>를 입력하면 모든 <code>apply</code>가 완료된다.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">65
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">66
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">67
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">68
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">69
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">70
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">71
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">72
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">73
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">74
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">75
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">76
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">77
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">78
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">79
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">80
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">81
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">82
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">83
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">84
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">85
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo terraform apply

Terraform used the selected providers to generate the following execution plan. Resource actions are indicated with the following symbols:
  + create

Terraform will perform the following actions:

  <span style="color:#6272a4"># docker_container.nginx will be created</span>
  + resource <span style="color:#f1fa8c">&#34;docker_container&#34;</span> <span style="color:#f1fa8c">&#34;nginx&#34;</span> <span style="color:#ff79c6">{</span>
      + <span style="color:#8be9fd;font-style:italic">attach</span>           <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">false</span>
      + <span style="color:#8be9fd;font-style:italic">bridge</span>           <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">command</span>          <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">container_logs</span>   <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">entrypoint</span>       <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">env</span>              <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">exit_code</span>        <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">gateway</span>          <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">hostname</span>         <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">id</span>               <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">image</span>            <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">init</span>             <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">ip_address</span>       <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">ip_prefix_length</span> <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">ipc_mode</span>         <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">log_driver</span>       <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;json-file&#34;</span>
      + <span style="color:#8be9fd;font-style:italic">logs</span>             <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">false</span>
      + <span style="color:#8be9fd;font-style:italic">must_run</span>         <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">true</span>
      + <span style="color:#8be9fd;font-style:italic">name</span>             <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;tutorial&#34;</span>
      + <span style="color:#8be9fd;font-style:italic">network_data</span>     <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">read_only</span>        <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">false</span>
      + <span style="color:#8be9fd;font-style:italic">remove_volumes</span>   <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">true</span>
      + <span style="color:#8be9fd;font-style:italic">restart</span>          <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;no&#34;</span>
      + <span style="color:#8be9fd;font-style:italic">rm</span>               <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">false</span>
      + <span style="color:#8be9fd;font-style:italic">security_opts</span>    <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">shm_size</span>         <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">start</span>            <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">true</span>
      + <span style="color:#8be9fd;font-style:italic">stdin_open</span>       <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">false</span>
      + <span style="color:#8be9fd;font-style:italic">tty</span>              <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">false</span>

      + healthcheck <span style="color:#ff79c6">{</span>
          + <span style="color:#8be9fd;font-style:italic">interval</span>     <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">retries</span>      <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">start_period</span> <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">test</span>         <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">timeout</span>      <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
        <span style="color:#ff79c6">}</span>

      + labels <span style="color:#ff79c6">{</span>
          + <span style="color:#8be9fd;font-style:italic">label</span> <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">value</span> <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
        <span style="color:#ff79c6">}</span>

      + ports <span style="color:#ff79c6">{</span>
          + <span style="color:#8be9fd;font-style:italic">external</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">8000</span>
          + <span style="color:#8be9fd;font-style:italic">internal</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">80</span>
          + <span style="color:#8be9fd;font-style:italic">ip</span>       <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;0.0.0.0&#34;</span>
          + <span style="color:#8be9fd;font-style:italic">protocol</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;tcp&#34;</span>
        <span style="color:#ff79c6">}</span>
    <span style="color:#ff79c6">}</span>

  <span style="color:#6272a4"># docker_image.nginx will be created</span>
  + resource <span style="color:#f1fa8c">&#34;docker_image&#34;</span> <span style="color:#f1fa8c">&#34;nginx&#34;</span> <span style="color:#ff79c6">{</span>
      + <span style="color:#8be9fd;font-style:italic">id</span>           <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">keep_locally</span> <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">false</span>
      + <span style="color:#8be9fd;font-style:italic">latest</span>       <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">name</span>         <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;nginx:latest&#34;</span>
      + <span style="color:#8be9fd;font-style:italic">output</span>       <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">repo_digest</span>  <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
    <span style="color:#ff79c6">}</span>

Plan: <span style="color:#bd93f9">2</span> to add, <span style="color:#bd93f9">0</span> to change, <span style="color:#bd93f9">0</span> to destroy.

Do you want to perform these actions?
  Terraform will perform the actions described above.
  Only <span style="color:#f1fa8c">&#39;yes&#39;</span> will be accepted to approve.

  Enter a value: yes

docker_image.nginx: Creating...
docker_image.nginx: Still creating... <span style="color:#ff79c6">[</span>10s elapsed<span style="color:#ff79c6">]</span>
docker_image.nginx: Creation <span style="color:#8be9fd;font-style:italic">complete</span> after 13s <span style="color:#ff79c6">[</span><span style="color:#8be9fd;font-style:italic">id</span><span style="color:#ff79c6">=</span>sha256:0e901e68141fd02f237cf63eb842529f8a9500636a9419e3cf4fb986b8fe3d5dnginx:latest<span style="color:#ff79c6">]</span>
docker_container.nginx: Creating...
docker_container.nginx: Creation <span style="color:#8be9fd;font-style:italic">complete</span> after 0s <span style="color:#ff79c6">[</span><span style="color:#8be9fd;font-style:italic">id</span><span style="color:#ff79c6">=</span>a87ec03b595d938ccf082fa8fef1986cdc2061c98db7928a5d928b521c3f1935<span style="color:#ff79c6">]</span>

Apply complete! Resources: <span style="color:#bd93f9">2</span> added, <span style="color:#bd93f9">0</span> changed, <span style="color:#bd93f9">0</span> destroyed.
</code></pre></td></tr></table>
</div>
</div><p><code>docker ps</code>를 통해 확인 해 보면 정상적으로 컨테이너가 생성되어 돌아가고 있는 것을 확인할 수 있다.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ docker ps
CONTAINER ID   IMAGE          COMMAND                  CREATED          STATUS          PORTS                  NAMES
a87ec03b595d   0e901e68141f   <span style="color:#f1fa8c">&#34;/docker-entrypoint.…&#34;</span>   <span style="color:#bd93f9">22</span> seconds ago   Up <span style="color:#bd93f9">20</span> seconds   0.0.0.0:8000-&gt;80/tcp   tutorial
</code></pre></td></tr></table>
</div>
</div><p>해당 서버의 확인은 <code>Docker</code>를 실행 중인 서버에서 직접 접속 할 경우에는 <code>localhost:8000</code>으로 접속하면 되며, 나같이 가상머신에 구축하고 호스트에서 접속 할 경우에는 <code>가상머신의주소:8000</code>을 입력하여 접속하면 된다.
아래와 같이 <code>Welcome to nginx</code>가 나오면 <code>Terraform</code> 설치 및 첫 번째 테스트 성공이다!</p>
<p><img src="/images/cloud/terraform/terraform_installation/terraform_install_01.png" alt=""></p></section>
    <footer>
    <div class="tags">
        
        <a href="https://mingzz1.github.io//tags#AWS">#AWS</a>
        
        <a href="https://mingzz1.github.io//tags#Terraform">#Terraform</a>
        
    </div>
</footer>
</article>

<div class="comments">
    <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'mingzzis-blog';
    (function () {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
</div>

<div id="post-nav">
    <div id="previous-post" class="post-nav-post">
        
        <p>Previous post</p>
        <a href="https://mingzz1.github.io/development/docker/2022/06/06/docker-installation.html/">[Docker] Docker 설치 방법</a>
        
    </div>

    <div id="next-post" class="post-nav-post">
        
        <p>Next post</p>
        <a href="https://mingzz1.github.io/development/cloud/2022/06/09/terraform-with-aws.html/">[Terraform 사용기] Terraform 으로 AWS Instance 생성/수정/삭제 하기</a>
        
    </div>
</div>


    </div>
    <ul class='social'>
    
    <li>
        <a href="https://github.com/mingzz1" class="icon alt" target="_blank">
            <i class="fa fa-github fa-2x"></i>
        </a>
    </li>
    
    <li>
        <a href="https://www.linkedin.com/in/minji-kim-12986a145/" class="icon alt" target="_blank">
            <i class="fa fa-linkedin fa-2x"></i>
        </a>
    </li>
    
</ul>
<footer class="site-footer">
    <p ckass="text">Powered by <a href="https://mingzz1.github.io" target="_blank">mingzzi</a> with <a
            href="https://skye3133.github.io/" target="_blank">myund</a></p>
</footer>

    <script id="dsq-count-scr" src="//mingzzis-blog.disqus.com/count.js" async></script>

    
<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-130304424-1']);
    _gaq.push(['_trackPageview']);
    (function () {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>
    
</body>
</body>

</html>
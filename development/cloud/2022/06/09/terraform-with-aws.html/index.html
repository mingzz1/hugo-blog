<!DOCTYPE html>
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&display=swap"
    rel="stylesheet">

<html class="no-js">
<head>
    <meta charset="utf-8">

    <base href="https://mingzz1.github.io/">
    <title> mingzzi&#39;s blog </title>
    <meta name="description" content="mingzzi&#39;s blog">

    <link rel="canonical" href="https://mingzz1.github.io/development/cloud/2022/06/09/terraform-with-aws.html/">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />

    
    <link rel="stylesheet" href="https://mingzz1.github.io/sass/main.min.94d6e676b5b11c22f591951fd9b4e6ab0f6a3179daac45918d1fbc53ed631f00.css">

    <link rel="shortcut icon" href="https://mingzz1.github.io/img/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" type="text/css"
        href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">


    <script src="https://code.jquery.com/jquery-1.12.4.min.js"
        integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>

    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-130304424-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-130304424-1');
    </script>

    <script>
        $(function () {
            $(".cat1>li").click(function () {
                $(this).siblings().find('ul').slideUp(300);
                $(this).find('ul').slideToggle(300);
            })

            $(window).scroll(function () {
                activeBg();
            });

            activeBg();


            $('.h-menu').click(function (e) {
                e.preventDefault();
                $('.side').addClass('on');
            });

            $('.close').click(function (e) {
                e.preventDefault();
                $('.side').removeClass('on');
            });

            $('ul.slide>li').click(function () {
                if ($(this).find('.down').hasClass('on')) {
                    $(this).find('.down').removeClass('on');
                    $(this).find('.down').prev().stop().slideUp(500);
                } else {
                    $(this).find('.down').addClass('on');
                    $(this).find('.down').prev().stop().slideDown(500);
                }
            })
        })

        function activeBg() {
            if ($(window).scrollTop() > 0) {
                $('.site-header').addClass('on');
            } else {
                $('.site-header').removeClass('on');
            }
        }
    </script>
</head>
<header class="site-header">
    <h1 class="web-t" onclick="window.location.href='/'"><span>def</span><em> ì²œë°©ì§€ì¶• ì–¼ë ëš±ë•…
        </em><span>(</span><i>ğŸ¤£</i><span>)</span>:<br />
        &nbsp;&nbsp;&nbsp;&nbsp;<span class="nbsp">title =</span> ë¹™ê¸€ë¹™ê¸€ ëŒì•„ê°€ëŠ” ìš°ë‹¹íƒ•íƒ• ì‹œíë¡œê·¸
        <br />
    </h1>

    <h1 class="mob-t" onclick="window.location.href='/'">
        <span>ì²œ/ì–¼/ë¹™/ëŒ(</span><i>ğŸ¤£</i><span>)</span>
        <br />ìš°ë‹¹íƒ•íƒ• ì‹œíë¡œê·¸
    </h1>

    <nav>
        <div class="h-menu">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <div class="side">
            <div class="close">
                <span></span>
                <span></span>
            </div>
            <ul class="slide">
                <li class="on"><a href="#">All Post</a>
                </li>
                <li><a>Pentesting</a>
                    <ul>
                        <li><a href="https://mingzz1.github.io//pentesting/ios">iOS</a></li>
                        <li><a href="https://mingzz1.github.io//pentesting/android">Android</a></li>
                        <li><a href="https://mingzz1.github.io//pentesting/web">Web</a></li>
                        <li><a href="https://mingzz1.github.io//pentesting/cloud">Cloud</a></li>
                    </ul>
                    <span class="down"></span>
                </li>
                <li><a>Wargame</a>
                    <ul>
                        <li><a href="https://mingzz1.github.io//wargame/lord-of-sql-injection">Lord of SQL Injection</a></li>
                        <li><a href="https://mingzz1.github.io//wargame/pwnable.kr">Pwnable.kr</a></li>
                        <li><a href="https://mingzz1.github.io//wargame/wargame.kr">Wargame.kr</a></li>
                        <li><a href="https://mingzz1.github.io//wargame/xss-game">XSS Game</a></li>
                        <li><a href="https://mingzz1.github.io//wargame/owasp">OWASP-MSTG Crackmes</a></li>
                    </ul>
                    <span class="down"></span>
                </li>
                <li><a>CTF</a>
                    <ul>
                        <li><a href="https://mingzz1.github.io//ctf/2018">2018</a></li>
                        <li><a href="https://mingzz1.github.io//ctf/2019">2019</a></li>
                    </ul>
                    <span class="down"></span>
                </li>
                <li><a>Error</a>
                    <ul>
                        <li><a href="https://mingzz1.github.io//error/linux">Linux</a></li>
                        <li><a href="https://mingzz1.github.io//error/windows">Windows</a></li>
                        <li><a href="https://mingzz1.github.io//error/python">Python</a></li>
                    </ul>
                    <span class="down"></span>
                </li>
                <li><a>Development</a>
                    <ul>
                        <li><a href="https://mingzz1.github.io//development/basic">Basic</a></li>
                        <li><a href="https://mingzz1.github.io//development/web">Web</a></li>
                        <li><a href="https://mingzz1.github.io//development/mobile">Mobile</a></li>
                        <li><a href="https://mingzz1.github.io//development/database">Database</a></li>
                        <li><a href="https://mingzz1.github.io//development/docker">Docker</a></li>
                        <li><a href="https://mingzz1.github.io//development/github-blog">Github Blog</a></li>
                        <li><a href="https://mingzz1.github.io//development/secure-coding">Secure Coding</a></li>
                        <li><a href="https://mingzz1.github.io//development/cloud">Cloud</a></li>
                    </ul>
                    <span class="down"></span>
                </li>
                <hr />
                <li><a href="https://mingzz1.github.io//about">About</a></li>
                <li><a href="https://mingzz1.github.io//archive">Archive</a></li>
                <li><a href="https://mingzz1.github.io//tags">Tag</a></li>
            </ul>
        </div>
    </nav>
</header>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1587587893565234"
     crossorigin="anonymous"></script>

<body>
    <div class="content">
        
        

<article>
    <header>
        <h1 class="title">[Terraform ì‚¬ìš©ê¸°] Terraform ìœ¼ë¡œ AWS Instance ìƒì„±/ìˆ˜ì •/ì‚­ì œ í•˜ê¸°</h1>
        <p class="meta">
            2022-06-09
        </p>
    </header>
    <section class="post-content"><p>ì˜¤ëŠ˜ì€ ì›ë˜ Terraformì„ ì‚¬ìš©í•´ì„œ <code>AWS Instanceì˜ ìƒì„±</code>ë§Œ í…ŒìŠ¤íŠ¸ í•´ ë³´ë ¤ê³  í–ˆë‹¤.
ê·¼ë° í•˜ë‹¤ë³´ë‹ˆê¹Œ íŠœí† ë¦¬ì–¼ì´ ê°„ë‹¨í•´ì„œì¸ì§€ ê¸ˆë°© ëë‚˜ì„œ ìƒì„± ë¿ë§Œ ì•„ë‹ˆë¼ ìˆ˜ì •ê³¼ ì‚­ì œë„ í•¨ê»˜ í…ŒìŠ¤íŠ¸ í•´ ë³´ì•˜ë‹¤.</p>
<p>Terraformì„ ì‚¬ìš© í•´ AWSì—ì„œ ì¸í”„ë¼ë¥¼ ìƒì„±/ìˆ˜ì •/ì‚­ì œ í•˜ê¸° ìœ„í•´ì„œëŠ” ë¨¼ì € <code>AWS CLI</code>ê°€ ì„¤ì¹˜ë˜ì–´ ìˆì–´ì•¼ í•œë‹¤.
<code>AWS CLI</code>ëŠ” <a href="https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html">ì—¬ê¸°</a>ë¥¼ ì°¸ê³  í•´ ì„¤ì¹˜í•  ìˆ˜ ìˆë‹¤.</p>
<h3 id="0-aws-access-key-ë°œê¸‰">0. AWS Access Key ë°œê¸‰</h3>
<p>ì„¤ì¹˜ í›„ì—ëŠ” CLIë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ <code>Access Key</code>ë¥¼ ë°œê¸‰ ë°›ì•„ì•¼ í•œë‹¤.
<code>Access Key</code>ëŠ” ì˜¤ë¥¸ìª½ ìƒë‹¨ <code>ID</code> í´ë¦­ &gt; <code>ë³´ì•ˆ ìê²© ì¦ëª…</code> ì„ íƒ &gt; ì¤‘ê°„ì˜ <code>ì•¡ì„¸ìŠ¤ í‚¤(ì•¡ì„¸ìŠ¤ í‚¤ ID ë° ë¹„ë°€ ì•¡ì„¸ìŠ¤ í‚¤)</code> ì„ íƒ &gt; <code>ìƒˆ ì•¡ì„¸ìŠ¤ í‚¤ ë§Œë“¤ê¸°</code>ë¡œ ìƒì„±í•  ìˆ˜ ìˆë‹¤.</p>
<p><img src="/images/cloud/terraform/terraform_with_aws/terraform_with_aws_01.png" alt=""></p>
<p><img src="/images/cloud/terraform/terraform_with_aws/terraform_with_aws_02.png" alt=""></p>
<p><code>Access Key</code>ë¥¼ ë°œê¸‰ ë°›ì•˜ë‹¤ë©´ Terraformì´ ì„¤ì¹˜ ëœ ì„œë²„ì—ì„œ <code>aws configure</code>ì„ í†µí•´ ì•„ë˜ì™€ ê°™ì´ ë“±ë¡ í•´ ì£¼ì–´ì•¼ í•œë‹¤.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ aws configure
AWS Access Key ID <span style="color:#ff79c6">[</span>None<span style="color:#ff79c6">]</span>: <span style="color:#ff79c6">[</span>AWS_ACCESS_KEY_ID<span style="color:#ff79c6">]</span>
AWS Secret Access Key <span style="color:#ff79c6">[</span>None<span style="color:#ff79c6">]</span>: <span style="color:#ff79c6">[</span>AWS_SECRET_ACCESS_KEY<span style="color:#ff79c6">]</span>
Default region name <span style="color:#ff79c6">[</span>None<span style="color:#ff79c6">]</span>: 
Default output format <span style="color:#ff79c6">[</span>None<span style="color:#ff79c6">]</span>:
</code></pre></td></tr></table>
</div>
</div><h3 id="1-aws-instance-ìƒì„±">1. AWS Instance ìƒì„±</h3>
<p>ì´ì œ AWSë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì‚¬ì „ ì¤€ë¹„ëŠ” ëª¨ë‘ ëì´ ë‚¬ë‹¤.
ì²« ë²ˆì§¸ íŠœí† ë¦¬ì–¼ê³¼ ê°™ì´ ìƒˆë¡œìš´ í´ë”ë¥¼ í•˜ë‚˜ ìƒì„±í•˜ì—¬ ì•„ë˜ì™€ ê°™ì´ <code>main.tf</code>ë¥¼ ì‘ì„±í•œë‹¤.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#6272a4"># main.tf</span>
terraform <span style="color:#ff79c6">{</span>
  required_providers <span style="color:#ff79c6">{</span>
    <span style="color:#8be9fd;font-style:italic">aws</span> <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">{</span>
      <span style="color:#8be9fd;font-style:italic">source</span>  <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;hashicorp/aws&#34;</span>
      <span style="color:#8be9fd;font-style:italic">version</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;~&gt; 4.16&#34;</span>
    <span style="color:#ff79c6">}</span>
  <span style="color:#ff79c6">}</span>

  <span style="color:#8be9fd;font-style:italic">required_version</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;&gt;= 1.2.0&#34;</span>
<span style="color:#ff79c6">}</span>

provider <span style="color:#f1fa8c">&#34;aws&#34;</span> <span style="color:#ff79c6">{</span>
  <span style="color:#8be9fd;font-style:italic">region</span>  <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;us-west-2&#34;</span>
<span style="color:#ff79c6">}</span>

resource <span style="color:#f1fa8c">&#34;aws_instance&#34;</span> <span style="color:#f1fa8c">&#34;app_server&#34;</span> <span style="color:#ff79c6">{</span>
  <span style="color:#8be9fd;font-style:italic">ami</span>           <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;ami-830c94e3&#34;</span>
  <span style="color:#8be9fd;font-style:italic">instance_type</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;t2.micro&#34;</span>

  <span style="color:#8be9fd;font-style:italic">tags</span> <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">{</span>
    <span style="color:#8be9fd;font-style:italic">Name</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;ExampleAppServerInstance&#34;</span>
  <span style="color:#ff79c6">}</span>
<span style="color:#ff79c6">}</span>
</code></pre></td></tr></table>
</div>
</div><p>ê° íŒŒíŠ¸ì˜ ì„¤ëª…ì€ ì•„ë˜ì™€ ê°™ë‹¤.</p>
<blockquote>
<p>Teraform Block</p>
<ul>
<li>Terraformì´ ì¸í”„ë¼ë¥¼ í”„ë¡œë¹„ì €ë‹ í•  ë•Œ ì‚¬ìš©í•  í•„ìˆ˜ provider ë“±ì˜ ì„¤ì •</li>
<li>ê° providerì— ëŒ€í•˜ì—¬ í˜¸ìŠ¤íŠ¸ëª…, ë„¤ì„ìŠ¤í˜ì´ìŠ¤, provider ìœ í˜• ì •ì˜ ê°€ëŠ¥</li>
<li>Terraform registryì—ì„œ providerë¥¼ ì„¤ì¹˜ í•¨ (<a href="https://registry.terraform.io/">https://registry.terraform.io/</a>)</li>
<li>ìœ„ ì˜ˆì œì˜ ê²½ìš° providerì˜ ì†ŒìŠ¤ëŠ” registry.terraform.io/hashicorp/aws ì˜ ì•½ìì¸ hashcorp/awsë¡œ ì •ì˜</li>
<li>required_providers ì—ì„œ íŠ¹ì • ë²„ì „ ì„ íƒ ê°€ëŠ¥ (Optionalì´ë©°, ì„ íƒí•˜ì§€ ì•Šì„ ê²½ìš° ê°€ì¥ ìµœì‹  ë²„ì „ìœ¼ë¡œ ì„¤ì¹˜)</li>
</ul>
</blockquote>
<blockquote>
<p>Providers Block</p>
<ul>
<li>íŠ¹ì • providerë¥¼ ì„¤ì • (ìœ„ ì˜ˆì œì˜ ê²½ìš° aws)</li>
<li>providerëŠ” Terraformì´ ë¦¬ì†ŒìŠ¤ë¥¼ ìƒì„±í•˜ê³  ê´€ë¦¬í•˜ëŠ” ë° ì‚¬ìš©í•˜ëŠ” í”ŒëŸ¬ê·¸ì¸</li>
<li>ê°ê° ë‹¤ë¥¸ providerì˜ ë¦¬ì†Œë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•´ ì—¬ëŸ¬ ê°œì˜ provider blockì„ ì‚¬ìš© í•  ìˆ˜ë„ ìˆìœ¼ë©°, ì„œë¡œ ë‹¤ë¥¸ providerë¥¼ í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” ê²ƒë„ ê°€ëŠ¥</li>
</ul>
</blockquote>
<blockquote>
<p>Resources Block</p>
<ul>
<li>ì¸í”„ë¼ì˜ êµ¬ì„± ìš”ì†Œ ì •ì˜</li>
<li>ResourceëŠ” EC2 Instanceì™€ ê°™ì´ ë¬¼ë¦¬ì  í˜¹ì€ ê°€ìƒì˜ êµ¬ì„± ìš”ì†Œì¼ ìˆ˜ ìˆìœ¼ë©°, Heroku ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ê°™ì´ ë…¼ë¦¬ì  ë¦¬ì†ŒìŠ¤ì¼ ìˆ˜ë„ ìˆìŒ</li>
<li>Resource Blockì—ëŠ” ë¦¬ì†ŒìŠ¤ì˜ íƒ€ì…(ìœ„ ì˜ˆì œì˜ ê²½ìš° aws_instance)ê³¼ ë¦¬ì†ŒìŠ¤ ì´ë¦„(ìœ„ ì˜ˆì œì˜ ê²½ìš° app_server), 2 ê°œì˜ ë¬¸ìì—´ì´ ë“¤ì–´ ê°</li>
<li>ë¦¬ì†ŒìŠ¤ íƒ€ì…ì˜ prefixëŠ” providerì™€ ë§¤í•‘</li>
<li>ë¦¬ì†ŒìŠ¤ íƒ€ì…ê³¼ ë¦¬ì†ŒìŠ¤ ì´ë¦„ì„ ì¡°í•©í•˜ì—¬ í•´ë‹¹ ë¦¬ì†ŒìŠ¤ì˜ Unique IDë¡œ ì‚¬ìš© (ìœ„ ì˜ˆì œì˜ ê²½ìš° IDëŠ” aws_instance.app_server)</li>
<li>Resources Blockì—ëŠ” ë¦¬ì†ŒìŠ¤ë¥¼ ì„¤ì •í•˜ê¸° ìœ„í•œ ë§¤ê°œë³€ìˆ˜ ë“¤ì´ í¬í•¨(ë¨¸ì‹ ì˜ í¬ê¸°, ë””ìŠ¤í¬ ì´ë¦„ ì´ë¯¸ì§€ ë“±)</li>
<li>ìœ„ ì˜ˆì œì˜ ê²½ìš° ë§¤ê°œë³€ìˆ˜ë¡œ AMI IDì™€ ì¸ìŠ¤í„´ìŠ¤ íƒ€ì…ì„ ì§€ì •</li>
</ul>
</blockquote>
<p>ìƒˆë¡œìš´ ì„¤ì •ì„ ìƒì„±í–ˆì„ ê²½ìš° <code>terraform init</code>ì„ í†µí•´ <code>configuration directoryë¥¼ initializing</code>ì„ í•´ì•¼ í•œë‹¤.
<code>initializing</code>ì„ í•  ê²½ìš° ì„¤ì • ë‚´ ì •ì˜ ëœ providerë¥¼ ë‹¤ìš´ë°›ì•„ ì„¤ì¹˜í•˜ê²Œ ëœë‹¤.
ìœ„ ì˜ˆì œì˜ ê²½ìš° <code>aws</code>ë¥¼ ë‹¤ìš´ ë° ì„¤ì¹˜í•œë‹¤.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ terraform init

Initializing the backend...

Initializing provider plugins...
- Finding hashicorp/aws versions matching <span style="color:#f1fa8c">&#34;~&gt; 4.16&#34;</span>...
- Installing hashicorp/aws v4.17.1...
- Installed hashicorp/aws v4.17.1 <span style="color:#ff79c6">(</span>signed by HashiCorp<span style="color:#ff79c6">)</span>

Terraform has created a lock file .terraform.lock.hcl to record the provider
selections it made above. Include this file in your version control repository
so that Terraform can guarantee to make the same selections by default when
you run <span style="color:#f1fa8c">&#34;terraform init&#34;</span> in the future.

Terraform has been successfully initialized!

You may now begin working with Terraform. Try running <span style="color:#f1fa8c">&#34;terraform plan&#34;</span> to see
any changes that are required <span style="color:#ff79c6">for</span> your infrastructure. All Terraform commands
should now work.

If you ever <span style="color:#8be9fd;font-style:italic">set</span> or change modules or backend configuration <span style="color:#ff79c6">for</span> Terraform,
rerun this <span style="color:#8be9fd;font-style:italic">command</span> to reinitialize your working directory. If you forget, other
commands will detect it and remind you to <span style="color:#ff79c6">do</span> so <span style="color:#ff79c6">if</span> necessary.
</code></pre></td></tr></table>
</div>
</div><p>ìœ„ ê²°ê³¼ ì¤‘ 3ë²ˆì§¸ ì¤„ì„ ë³´ë©´ <code>Initializing provider plugins...</code>ë¼ëŠ” ë¶€ë¶„ì´ ìˆëŠ”ë°, í•´ë‹¹ ë¶€ë¶„ì—ì„œ ë‚´ê°€ <code>main.tf</code>ì— ì •ì˜ í•œ ë²„ì „ì¸ <code>4.16</code> ì´ìƒ ë²„ì „ì„ ì°¾ëŠ” ê²ƒì„ í™•ì¸ í•  ìˆ˜ ìˆë‹¤.
ê·¸ ê²°ê³¼ <code>aws 4.17.1</code>ì„ ì„¤ì¹˜ ì™„ë£Œí–ˆë‹¤.
ì´ì œ <code>terraform apply</code> ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ terraformì—ì„œ ë‚´ AWS ê³„ì •ì— EC2 Instanceë¥¼ ìƒì„±í•œë‹¤.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 37
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 38
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 39
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 40
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 41
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 42
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 43
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 44
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 45
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 46
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 47
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 48
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 49
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 50
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 51
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 52
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 53
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 54
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 55
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 56
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 57
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 58
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 59
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 60
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 61
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 62
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 63
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 64
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 65
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 66
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 67
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 68
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 69
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 70
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 71
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 72
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 73
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 74
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 75
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 76
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 77
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 78
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 79
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 80
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 81
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 82
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 83
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 84
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 85
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 86
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 87
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 88
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 89
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 90
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 91
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 92
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 93
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 94
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 95
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 96
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 97
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 98
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 99
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">100
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">101
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">102
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">103
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">104
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">105
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">106
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">107
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">108
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">109
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">110
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">111
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">112
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">113
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">114
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">115
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">116
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">117
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">118
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">119
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">120
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">121
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">122
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">123
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">124
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">125
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">126
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">127
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">128
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">129
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">130
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">131
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">132
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">133
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">134
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">135
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">136
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">137
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ terraform apply

Terraform used the selected providers to generate the following execution plan. Resource actions are indicated with the following symbols:
  + create

Terraform will perform the following actions:

  <span style="color:#6272a4"># aws_instance.app_server will be created</span>
  + resource <span style="color:#f1fa8c">&#34;aws_instance&#34;</span> <span style="color:#f1fa8c">&#34;app_server&#34;</span> <span style="color:#ff79c6">{</span>
      + <span style="color:#8be9fd;font-style:italic">ami</span>                                  <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;ami-830c94e3&#34;</span>
      + <span style="color:#8be9fd;font-style:italic">arn</span>                                  <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">associate_public_ip_address</span>          <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">availability_zone</span>                    <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">cpu_core_count</span>                       <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">cpu_threads_per_core</span>                 <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">disable_api_termination</span>              <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">ebs_optimized</span>                        <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">get_password_data</span>                    <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">false</span>
      + <span style="color:#8be9fd;font-style:italic">host_id</span>                              <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">id</span>                                   <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">instance_initiated_shutdown_behavior</span> <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">instance_state</span>                       <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">instance_type</span>                        <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;t2.micro&#34;</span>
      + <span style="color:#8be9fd;font-style:italic">ipv6_address_count</span>                   <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">ipv6_addresses</span>                       <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">key_name</span>                             <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">monitoring</span>                           <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">outpost_arn</span>                          <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">password_data</span>                        <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">placement_group</span>                      <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">placement_partition_number</span>           <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">primary_network_interface_id</span>         <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">private_dns</span>                          <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">private_ip</span>                           <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">public_dns</span>                           <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">public_ip</span>                            <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">secondary_private_ips</span>                <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">security_groups</span>                      <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">source_dest_check</span>                    <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">true</span>
      + <span style="color:#8be9fd;font-style:italic">subnet_id</span>                            <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">tags</span>                                 <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">{</span>
          + <span style="color:#f1fa8c">&#34;Name&#34;</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;ExampleAppServerInstance&#34;</span>
        <span style="color:#ff79c6">}</span>
      + <span style="color:#8be9fd;font-style:italic">tags_all</span>                             <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">{</span>
          + <span style="color:#f1fa8c">&#34;Name&#34;</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;ExampleAppServerInstance&#34;</span>
        <span style="color:#ff79c6">}</span>
      + <span style="color:#8be9fd;font-style:italic">tenancy</span>                              <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">user_data</span>                            <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">user_data_base64</span>                     <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">user_data_replace_on_change</span>          <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">false</span>
      + <span style="color:#8be9fd;font-style:italic">vpc_security_group_ids</span>               <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>

      + capacity_reservation_specification <span style="color:#ff79c6">{</span>
          + <span style="color:#8be9fd;font-style:italic">capacity_reservation_preference</span> <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>

          + capacity_reservation_target <span style="color:#ff79c6">{</span>
              + <span style="color:#8be9fd;font-style:italic">capacity_reservation_id</span>                 <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
              + <span style="color:#8be9fd;font-style:italic">capacity_reservation_resource_group_arn</span> <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
            <span style="color:#ff79c6">}</span>
        <span style="color:#ff79c6">}</span>

      + ebs_block_device <span style="color:#ff79c6">{</span>
          + <span style="color:#8be9fd;font-style:italic">delete_on_termination</span> <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">device_name</span>           <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">encrypted</span>             <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">iops</span>                  <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">kms_key_id</span>            <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">snapshot_id</span>           <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">tags</span>                  <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">throughput</span>            <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">volume_id</span>             <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">volume_size</span>           <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">volume_type</span>           <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
        <span style="color:#ff79c6">}</span>

      + enclave_options <span style="color:#ff79c6">{</span>
          + <span style="color:#8be9fd;font-style:italic">enabled</span> <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
        <span style="color:#ff79c6">}</span>

      + ephemeral_block_device <span style="color:#ff79c6">{</span>
          + <span style="color:#8be9fd;font-style:italic">device_name</span>  <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">no_device</span>    <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">virtual_name</span> <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
        <span style="color:#ff79c6">}</span>

      + maintenance_options <span style="color:#ff79c6">{</span>
          + <span style="color:#8be9fd;font-style:italic">auto_recovery</span> <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
        <span style="color:#ff79c6">}</span>

      + metadata_options <span style="color:#ff79c6">{</span>
          + <span style="color:#8be9fd;font-style:italic">http_endpoint</span>               <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">http_put_response_hop_limit</span> <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">http_tokens</span>                 <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">instance_metadata_tags</span>      <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
        <span style="color:#ff79c6">}</span>

      + network_interface <span style="color:#ff79c6">{</span>
          + <span style="color:#8be9fd;font-style:italic">delete_on_termination</span> <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">device_index</span>          <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">network_card_index</span>    <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">network_interface_id</span>  <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
        <span style="color:#ff79c6">}</span>

      + root_block_device <span style="color:#ff79c6">{</span>
          + <span style="color:#8be9fd;font-style:italic">delete_on_termination</span> <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">device_name</span>           <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">encrypted</span>             <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">iops</span>                  <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">kms_key_id</span>            <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">tags</span>                  <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">throughput</span>            <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">volume_id</span>             <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">volume_size</span>           <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">volume_type</span>           <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
        <span style="color:#ff79c6">}</span>
    <span style="color:#ff79c6">}</span>

Plan: <span style="color:#bd93f9">1</span> to add, <span style="color:#bd93f9">0</span> to change, <span style="color:#bd93f9">0</span> to destroy.

Do you want to perform these actions?
  Terraform will perform the actions described above.
  Only <span style="color:#f1fa8c">&#39;yes&#39;</span> will be accepted to approve.

  Enter a value: yes

aws_instance.app_server: Creating...
aws_instance.app_server: Still creating... <span style="color:#ff79c6">[</span>10s elapsed<span style="color:#ff79c6">]</span>
aws_instance.app_server: Still creating... <span style="color:#ff79c6">[</span>20s elapsed<span style="color:#ff79c6">]</span>
aws_instance.app_server: Still creating... <span style="color:#ff79c6">[</span>30s elapsed<span style="color:#ff79c6">]</span>
aws_instance.app_server: Still creating... <span style="color:#ff79c6">[</span>40s elapsed<span style="color:#ff79c6">]</span>
aws_instance.app_server: Still creating... <span style="color:#ff79c6">[</span>50s elapsed<span style="color:#ff79c6">]</span>
aws_instance.app_server: Still creating... <span style="color:#ff79c6">[</span>1m0s elapsed<span style="color:#ff79c6">]</span>
aws_instance.app_server: Still creating... <span style="color:#ff79c6">[</span>1m10s elapsed<span style="color:#ff79c6">]</span>
aws_instance.app_server: Still creating... <span style="color:#ff79c6">[</span>1m20s elapsed<span style="color:#ff79c6">]</span>
aws_instance.app_server: Creation <span style="color:#8be9fd;font-style:italic">complete</span> after 1m25s <span style="color:#ff79c6">[</span><span style="color:#8be9fd;font-style:italic">id</span><span style="color:#ff79c6">=</span>i-xxxxxxxx<span style="color:#ff79c6">]</span>

Apply complete! Resources: <span style="color:#bd93f9">1</span> added, <span style="color:#bd93f9">0</span> changed, <span style="color:#bd93f9">0</span> destroyed.
</code></pre></td></tr></table>
</div>
</div><p><code>+ resource &quot;aws_instance&quot; &quot;app_server&quot;</code>ëŠ” <code>&quot;aws_instance&quot; &quot;app_server&quot;</code> ë¦¬ì†ŒìŠ¤ë¥¼ <code>ì¶”ê°€(+)</code> í•˜ê² ë‹¤ëŠ” ì˜ë¯¸ì´ë©° ê·¸ ì•„ë˜ì— ìƒì„± í•  ë¦¬ì†ŒìŠ¤ì˜ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
<code>(known after apply)</code>ëŠ” ë¦¬ì†ŒìŠ¤ê°€ ìƒì„± ë  ë•Œê¹Œì§€ ì•Œ ìˆ˜ ì—†ë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.
<code>Plan: 1 to add, 0 to change, 0 to destroy.</code> ë¶€ë¶„ì—ì„œ <code>apply</code>ì˜ ê²°ê³¼ ì–´ë–¤ ë³€í™”ê°€ ë‚˜íƒ€ë‚  ì§€ í™•ì¸í•  ìˆ˜ ìˆê³ , <code>Enter a value: </code> ì˜†ì— <code>yes</code>ë¥¼ ì…ë ¥ í•´ ì£¼ë©´ ì•¡ì…˜ì„ ì‹¤í–‰í•œë‹¤.
ì•¡ì…˜ ì‹¤í–‰ ê²°ê³¼ëŠ” ë§ˆì§€ë§‰ ì¤„ì˜ <code>Apply complete! Resources: 1 added, 0 changed, 0 destroyed.</code>ë¡œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>
<p>ì‹¤í–‰ í›„ AWS ì½˜ì†”ì— ë“¤ì–´ ê°€ ë³´ë©´ ì•„ë˜ì™€ ê°™ì´ ì¸ìŠ¤í„´ìŠ¤ê°€ ì •ìƒì ìœ¼ë¡œ ìƒì„± ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>
<p><img src="/images/cloud/terraform/terraform_with_aws/terraform_with_aws_03.png" alt=""></p>
<h3 id="2-aws-instance-ìˆ˜ì •">2. AWS Instance ìˆ˜ì •</h3>
<p>ì¸ìŠ¤í„´ìŠ¤ ìƒì„± í›„ ì—¬ëŸ¬ ì´ìœ ë¡œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë³€ê²½í•´ì•¼ í•  ì¼ì´ ìˆì„ ìˆ˜ ìˆë‹¤.
ì´ë²ˆì—ëŠ” ìƒì„± í•œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìˆ˜ì •í•˜ëŠ” ë°©ë²•ì„ í™•ì¸ í•´ ë³´ë ¤ í•œë‹¤.</p>
<p>ì•ì„œ ì‘ì„± í•œ <code>main.tf</code>ì—ì„œ <code>ami</code> ë¶€ë¶„ì„ ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •í•œë‹¤.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"> resource <span style="color:#f1fa8c">&#34;aws_instance&#34;</span> <span style="color:#f1fa8c">&#34;app_server&#34;</span> <span style="color:#ff79c6">{</span>
-  <span style="color:#8be9fd;font-style:italic">ami</span>           <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;ami-830c94e3&#34;</span>
+  <span style="color:#8be9fd;font-style:italic">ami</span>           <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;ami-08d70e59c07c61a3a&#34;</span>
   <span style="color:#8be9fd;font-style:italic">instance_type</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;t2.micro&#34;</span>
 <span style="color:#ff79c6">}</span>
</code></pre></td></tr></table>
</div>
</div><p><code>AMI(Amazon Machine Image)</code>ëŠ” ì‰½ê²Œ ë§í•´ ì¸ìŠ¤í„´ìŠ¤ í…œí”Œë¦¿ì´ë‹¤.
OS, Application Server, Application ë“±ì´ ë¯¸ë¦¬ ì •ì˜ë˜ì–´ ìˆìœ¼ë©°, ë‚´ê°€ í•„ìš” í•œ AMIë¥¼ í™œìš©í•˜ì—¬ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤.
AMIì˜ ì •ë³´ëŠ” <code>EC2</code> &gt; <code>AMI</code> &gt; <code>í¼ë¸”ë¦­ ì´ë¯¸ì§€</code> ì„ íƒí•˜ì—¬ í™•ì¸í•  ìˆ˜ ìˆê³ , <code>ê²€ìƒ‰</code> ì°½ì—ì„œ ì—¬ëŸ¬ í•„í„°ë¥¼ í™œìš© í•´ ë‚´ê°€ ì›í•˜ëŠ” <code>AMI</code>ë¥¼ ì°¾ì•„ <code>AMI ID</code>ë¥¼ ì°¾ì„ ìˆ˜ ìˆë‹¤.
ë˜í•œ <code>AMI ID</code>ì˜ ê²½ìš° ê° ì§€ì—­ ë³„ë¡œ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— ë‚´ê°€ ì‚¬ìš© í•  ì§€ì—­ì„ ì„ íƒ í›„ ê²€ìƒ‰í•´ì•¼ í•œë‹¤.</p>
<p><img src="/images/cloud/terraform/terraform_with_aws/terraform_with_aws_04.png" alt=""></p>
<p>ì–´ì¨Œë“  ì˜ˆì œì—ì„œëŠ” ê¸°ë³¸ì— ì‚¬ìš©í•˜ë˜ OSë¥¼ ë³€ê²½í•˜ê¸° ìœ„í•´ <code>main.tf</code>ì˜ <code>ami</code>ë¥¼ ë³€ê²½í–ˆë‹¤.
ë³€ê²½ í›„ <code>terraform apply</code>ë¥¼ í•  ê²½ìš° ì•„ë˜ì™€ ê°™ë‹¤.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 37
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 38
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 39
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 40
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 41
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 42
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 43
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 44
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 45
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 46
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 47
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 48
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 49
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 50
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 51
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 52
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 53
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 54
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 55
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 56
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 57
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 58
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 59
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 60
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 61
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 62
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 63
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 64
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 65
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 66
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 67
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 68
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 69
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 70
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 71
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 72
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 73
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 74
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 75
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 76
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 77
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 78
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 79
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 80
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 81
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 82
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 83
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 84
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 85
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 86
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 87
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 88
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 89
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 90
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 91
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 92
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 93
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 94
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 95
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 96
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 97
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 98
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 99
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">100
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">101
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">102
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">103
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">104
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">105
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">106
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">107
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">108
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">109
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">110
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">111
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">112
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">113
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">114
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">115
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">116
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">117
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">118
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">119
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">120
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">121
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">122
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">123
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">124
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">125
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">126
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">127
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">128
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">129
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">130
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">131
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">132
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">133
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">134
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">135
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">136
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">137
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">138
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">139
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">140
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">141
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">142
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ terraform apply
aws_instance.app_server: Refreshing state... <span style="color:#ff79c6">[</span><span style="color:#8be9fd;font-style:italic">id</span><span style="color:#ff79c6">=</span>i-036a288468ccba238<span style="color:#ff79c6">]</span>

Terraform used the selected providers to generate the following execution plan. Resource actions are indicated with the following symbols:
-/+ destroy and <span style="color:#ff79c6">then</span> create replacement

Terraform will perform the following actions:

  <span style="color:#6272a4"># aws_instance.app_server must be replaced</span>
-/+ resource <span style="color:#f1fa8c">&#34;aws_instance&#34;</span> <span style="color:#f1fa8c">&#34;app_server&#34;</span> <span style="color:#ff79c6">{</span>
      ~ <span style="color:#8be9fd;font-style:italic">ami</span>                                  <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;ami-830c94e3&#34;</span> -&gt; <span style="color:#f1fa8c">&#34;ami-08d70e59c07c61a3a&#34;</span> <span style="color:#6272a4"># forces replacement</span>
      ~ <span style="color:#8be9fd;font-style:italic">arn</span>                                  <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;arn:aws:ec2:us-west-2:836940557029:instance/i-xxxxxxxx&#34;</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      ~ <span style="color:#8be9fd;font-style:italic">associate_public_ip_address</span>          <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">true</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      ~ <span style="color:#8be9fd;font-style:italic">availability_zone</span>                    <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;us-west-2c&#34;</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      ~ <span style="color:#8be9fd;font-style:italic">cpu_core_count</span>                       <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">1</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      ~ <span style="color:#8be9fd;font-style:italic">cpu_threads_per_core</span>                 <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">1</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      ~ <span style="color:#8be9fd;font-style:italic">disable_api_termination</span>              <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">false</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      ~ <span style="color:#8be9fd;font-style:italic">ebs_optimized</span>                        <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">false</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      - <span style="color:#8be9fd;font-style:italic">hibernation</span>                          <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">false</span> -&gt; null
      + <span style="color:#8be9fd;font-style:italic">host_id</span>                              <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      ~ <span style="color:#8be9fd;font-style:italic">id</span>                                   <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;i-xxxxxxxx&#34;</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      ~ <span style="color:#8be9fd;font-style:italic">instance_initiated_shutdown_behavior</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;stop&#34;</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      ~ <span style="color:#8be9fd;font-style:italic">instance_state</span>                       <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;running&#34;</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      ~ <span style="color:#8be9fd;font-style:italic">ipv6_address_count</span>                   <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">0</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      ~ <span style="color:#8be9fd;font-style:italic">ipv6_addresses</span>                       <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">[]</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">key_name</span>                             <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      ~ <span style="color:#8be9fd;font-style:italic">monitoring</span>                           <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">false</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">outpost_arn</span>                          <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">password_data</span>                        <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">placement_group</span>                      <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">placement_partition_number</span>           <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      ~ <span style="color:#8be9fd;font-style:italic">primary_network_interface_id</span>         <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;eni-xxxxxxxx&#34;</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      ~ <span style="color:#8be9fd;font-style:italic">private_dns</span>                          <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;ip-172-31-6-166.us-west-2.compute.internal&#34;</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      ~ <span style="color:#8be9fd;font-style:italic">private_ip</span>                           <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;172.31.6.166&#34;</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      ~ <span style="color:#8be9fd;font-style:italic">public_dns</span>                           <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;ec2-34-219-42-204.us-west-2.compute.amazonaws.com&#34;</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      ~ <span style="color:#8be9fd;font-style:italic">public_ip</span>                            <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;34.219.42.204&#34;</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      ~ <span style="color:#8be9fd;font-style:italic">secondary_private_ips</span>                <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">[]</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      ~ <span style="color:#8be9fd;font-style:italic">security_groups</span>                      <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">[</span>
          - <span style="color:#f1fa8c">&#34;default&#34;</span>,
        <span style="color:#ff79c6">]</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      ~ <span style="color:#8be9fd;font-style:italic">subnet_id</span>                            <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;subnet-xxxxxxxx&#34;</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
        <span style="color:#8be9fd;font-style:italic">tags</span>                                 <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">{</span>
            <span style="color:#f1fa8c">&#34;Name&#34;</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;ExampleAppServerInstance&#34;</span>
        <span style="color:#ff79c6">}</span>
      ~ <span style="color:#8be9fd;font-style:italic">tenancy</span>                              <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;default&#34;</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">user_data</span>                            <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      + <span style="color:#8be9fd;font-style:italic">user_data_base64</span>                     <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
      ~ <span style="color:#8be9fd;font-style:italic">vpc_security_group_ids</span>               <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">[</span>
          - <span style="color:#f1fa8c">&#34;sg-xxxxxxxx&#34;</span>,
        <span style="color:#ff79c6">]</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
        <span style="color:#6272a4"># (5 unchanged attributes hidden)</span>

      ~ capacity_reservation_specification <span style="color:#ff79c6">{</span>
          ~ <span style="color:#8be9fd;font-style:italic">capacity_reservation_preference</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;open&#34;</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>

          + capacity_reservation_target <span style="color:#ff79c6">{</span>
              + <span style="color:#8be9fd;font-style:italic">capacity_reservation_id</span>                 <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
              + <span style="color:#8be9fd;font-style:italic">capacity_reservation_resource_group_arn</span> <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
            <span style="color:#ff79c6">}</span>
        <span style="color:#ff79c6">}</span>

      - credit_specification <span style="color:#ff79c6">{</span>
          - <span style="color:#8be9fd;font-style:italic">cpu_credits</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;standard&#34;</span> -&gt; null
        <span style="color:#ff79c6">}</span>

      + ebs_block_device <span style="color:#ff79c6">{</span>
          + <span style="color:#8be9fd;font-style:italic">delete_on_termination</span> <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">device_name</span>           <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">encrypted</span>             <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">iops</span>                  <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">kms_key_id</span>            <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">snapshot_id</span>           <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">tags</span>                  <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">throughput</span>            <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">volume_id</span>             <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">volume_size</span>           <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">volume_type</span>           <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
        <span style="color:#ff79c6">}</span>

      ~ enclave_options <span style="color:#ff79c6">{</span>
          ~ <span style="color:#8be9fd;font-style:italic">enabled</span> <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">false</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
        <span style="color:#ff79c6">}</span>

      + ephemeral_block_device <span style="color:#ff79c6">{</span>
          + <span style="color:#8be9fd;font-style:italic">device_name</span>  <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">no_device</span>    <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">virtual_name</span> <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
        <span style="color:#ff79c6">}</span>

      ~ maintenance_options <span style="color:#ff79c6">{</span>
          ~ <span style="color:#8be9fd;font-style:italic">auto_recovery</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;default&#34;</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
        <span style="color:#ff79c6">}</span>

      ~ metadata_options <span style="color:#ff79c6">{</span>
          ~ <span style="color:#8be9fd;font-style:italic">http_endpoint</span>               <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;enabled&#34;</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          ~ <span style="color:#8be9fd;font-style:italic">http_put_response_hop_limit</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">1</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          ~ <span style="color:#8be9fd;font-style:italic">http_tokens</span>                 <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;optional&#34;</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          ~ <span style="color:#8be9fd;font-style:italic">instance_metadata_tags</span>      <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;disabled&#34;</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
        <span style="color:#ff79c6">}</span>

      + network_interface <span style="color:#ff79c6">{</span>
          + <span style="color:#8be9fd;font-style:italic">delete_on_termination</span> <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">device_index</span>          <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">network_card_index</span>    <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">network_interface_id</span>  <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
        <span style="color:#ff79c6">}</span>

      ~ root_block_device <span style="color:#ff79c6">{</span>
          ~ <span style="color:#8be9fd;font-style:italic">delete_on_termination</span> <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">true</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          ~ <span style="color:#8be9fd;font-style:italic">device_name</span>           <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;/dev/sda1&#34;</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          ~ <span style="color:#8be9fd;font-style:italic">encrypted</span>             <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">false</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          ~ <span style="color:#8be9fd;font-style:italic">iops</span>                  <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">0</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          + <span style="color:#8be9fd;font-style:italic">kms_key_id</span>            <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          ~ <span style="color:#8be9fd;font-style:italic">tags</span>                  <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">{}</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          ~ <span style="color:#8be9fd;font-style:italic">throughput</span>            <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">0</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          ~ <span style="color:#8be9fd;font-style:italic">volume_id</span>             <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;vol-xxxxxxxx&#34;</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          ~ <span style="color:#8be9fd;font-style:italic">volume_size</span>           <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">8</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
          ~ <span style="color:#8be9fd;font-style:italic">volume_type</span>           <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;standard&#34;</span> -&gt; <span style="color:#ff79c6">(</span>known after apply<span style="color:#ff79c6">)</span>
        <span style="color:#ff79c6">}</span>
    <span style="color:#ff79c6">}</span>

Plan: <span style="color:#bd93f9">1</span> to add, <span style="color:#bd93f9">0</span> to change, <span style="color:#bd93f9">1</span> to destroy.

Do you want to perform these actions?
  Terraform will perform the actions described above.
  Only <span style="color:#f1fa8c">&#39;yes&#39;</span> will be accepted to approve.

  Enter a value: yes

aws_instance.app_server: Destroying... <span style="color:#ff79c6">[</span><span style="color:#8be9fd;font-style:italic">id</span><span style="color:#ff79c6">=</span>i-XXXXXXXX<span style="color:#ff79c6">]</span>
aws_instance.app_server: Still destroying... <span style="color:#ff79c6">[</span><span style="color:#8be9fd;font-style:italic">id</span><span style="color:#ff79c6">=</span>i-XXXXXXXX, 10s elapsed<span style="color:#ff79c6">]</span>
aws_instance.app_server: Still destroying... <span style="color:#ff79c6">[</span><span style="color:#8be9fd;font-style:italic">id</span><span style="color:#ff79c6">=</span>i-XXXXXXXX, 20s elapsed<span style="color:#ff79c6">]</span>
aws_instance.app_server: Still destroying... <span style="color:#ff79c6">[</span><span style="color:#8be9fd;font-style:italic">id</span><span style="color:#ff79c6">=</span>i-XXXXXXXX, 30s elapsed<span style="color:#ff79c6">]</span>
aws_instance.app_server: Destruction <span style="color:#8be9fd;font-style:italic">complete</span> after 31s
aws_instance.app_server: Creating...
aws_instance.app_server: Still creating... <span style="color:#ff79c6">[</span>10s elapsed<span style="color:#ff79c6">]</span>
aws_instance.app_server: Still creating... <span style="color:#ff79c6">[</span>20s elapsed<span style="color:#ff79c6">]</span>
aws_instance.app_server: Still creating... <span style="color:#ff79c6">[</span>30s elapsed<span style="color:#ff79c6">]</span>
aws_instance.app_server: Still creating... <span style="color:#ff79c6">[</span>40s elapsed<span style="color:#ff79c6">]</span>
aws_instance.app_server: Creation <span style="color:#8be9fd;font-style:italic">complete</span> after 44s <span style="color:#ff79c6">[</span><span style="color:#8be9fd;font-style:italic">id</span><span style="color:#ff79c6">=</span>i-XXXXXXXX<span style="color:#ff79c6">]</span>

Apply complete! Resources: <span style="color:#bd93f9">1</span> added, <span style="color:#bd93f9">0</span> changed, <span style="color:#bd93f9">1</span> destroyed.
</code></pre></td></tr></table>
</div>
</div><p><code>-/+ resource &quot;aws_instance&quot; &quot;app_server&quot;</code> ë¶€ë¶„ì€ ë¦¬ì†ŒìŠ¤ì˜ ì¶”ê°€ ë° ì‚­ì œë¥¼ ì˜ë¯¸í•˜ë©°, ë¸”ë¡ ì•ˆì—ì„œ ìƒì„± ë  ë¦¬ì†ŒìŠ¤ì˜ ì •ë³´ ë° ë³€ê²½ì‚¬í•­ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
<code>Plan: 1 to add, 0 to change, 1 to destroy.</code> ì—ì„œ ì–´ë–¤ ê²°ê³¼ê°€ ë‚˜íƒ€ë‚  ì§€ í™•ì¸í•  ìˆ˜ ìˆëŠ”ë°, ìœ„ ì˜ˆì œì˜ ê²½ìš° ì¸ìŠ¤í„´ìŠ¤ì˜ OSë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì´ê¸° ë•Œë¬¸ì— ê¸°ì¡´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‚­ì œ í›„ ìƒˆë¡œ ìƒì„±í•˜ëŠ” ì‘ì—…ì„ í•˜ê²Œ ë  ì˜ˆì •ì´ë‹¤.
ê²€í† ê°€ ëë‚¬ë‹¤ë©´ <code>Enter a value:</code> ì˜†ì— <code>yes</code>ë¥¼ ì…ë ¥í•˜ì—¬ ì‘ì—…ì„ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.
ê·¸ ê²°ê³¼ í•˜ë‹¨ì—ì„œ ê¸°ì¡´ ì¸ìŠ¤í„´ìŠ¤ ì‚­ì œ í›„ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ì‘ì—…ì„ ì™„ë£Œ í•œ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>
<p>AWS ì½˜ì†”ì—ì„œ í™•ì¸ ê²°ê³¼ ì•„ë˜ì™€ ê°™ì´ ê¸°ì¡´ ì¸ìŠ¤í„´ìŠ¤ ì¢…ë£Œ í›„ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒì„± ëœ ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.</p>
<p><img src="/images/cloud/terraform/terraform_with_aws/terraform_with_aws_05.png" alt=""></p>
<h3 id="3-aws-instance-ì‚­ì œ">3. AWS Instance ì‚­ì œ</h3>
<p>ë§ˆì§€ë§‰ìœ¼ë¡œ ì‚¬ìš©ì™„ë£Œ í•œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‚­ì œí•˜ëŠ” ë°©ë²•ì´ë‹¤.
<code>terraform destroy</code>ë¥¼ ì‚¬ìš© í•  ê±´ë°, ì´ ëª…ë ¹ì–´ëŠ” ë‚´ terraform í”„ë¡œì íŠ¸ ì•ˆì˜ ëª¨ë“  ë¦¬ì†ŒìŠ¤ë¥¼ ì‚­ì œí•˜ëŠ” ëª…ë ¹ì–´ë¡œ <code>terraform apply</code>ì˜ ë°˜ëŒ€ ì—­í• ì„ í•œë‹¤.
í˜„ì¬ terraform í”„ë¡œì íŠ¸ì— ì—†ëŠ” ë¦¬ì†ŒìŠ¤ëŠ” ì‚­ì œ í•˜ì§€ ì•ŠëŠ”ë‹¤.</p>
<p>ì‚¬ìš©ë²•ì€ ë‹¨ìˆœí•˜ê²Œ <code>terraform destroy</code>ë¥¼ ì…ë ¥í•˜ë©´ ëœë‹¤.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 37
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 38
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 39
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 40
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 41
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 42
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 43
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 44
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 45
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 46
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 47
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 48
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 49
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 50
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 51
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 52
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 53
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 54
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 55
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 56
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 57
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 58
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 59
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 60
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 61
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 62
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 63
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 64
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 65
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 66
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 67
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 68
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 69
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 70
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 71
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 72
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 73
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 74
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 75
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 76
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 77
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 78
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 79
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 80
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 81
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 82
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 83
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 84
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 85
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 86
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 87
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 88
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 89
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 90
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 91
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 92
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 93
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 94
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 95
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 96
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 97
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 98
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 99
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">100
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">101
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ terraform destroy
aws_instance.app_server: Refreshing state... <span style="color:#ff79c6">[</span><span style="color:#8be9fd;font-style:italic">id</span><span style="color:#ff79c6">=</span>i-xxxxxxxx<span style="color:#ff79c6">]</span>

Terraform used the selected providers to generate the following execution plan. Resource actions are indicated with the following symbols:
  - destroy

Terraform will perform the following actions:

  <span style="color:#6272a4"># aws_instance.app_server will be destroyed</span>
  - resource <span style="color:#f1fa8c">&#34;aws_instance&#34;</span> <span style="color:#f1fa8c">&#34;app_server&#34;</span> <span style="color:#ff79c6">{</span>
      - <span style="color:#8be9fd;font-style:italic">ami</span>                                  <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;ami-08d70e59c07c61a3a&#34;</span> -&gt; null
      - <span style="color:#8be9fd;font-style:italic">arn</span>                                  <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;arn:aws:ec2:us-west-2:836940557029:instance/i-xxxxxxxx&#34;</span> -&gt; null
      - <span style="color:#8be9fd;font-style:italic">associate_public_ip_address</span>          <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">true</span> -&gt; null
      - <span style="color:#8be9fd;font-style:italic">availability_zone</span>                    <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;us-west-2c&#34;</span> -&gt; null
      - <span style="color:#8be9fd;font-style:italic">cpu_core_count</span>                       <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">1</span> -&gt; null
      - <span style="color:#8be9fd;font-style:italic">cpu_threads_per_core</span>                 <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">1</span> -&gt; null
      - <span style="color:#8be9fd;font-style:italic">disable_api_termination</span>              <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">false</span> -&gt; null
      - <span style="color:#8be9fd;font-style:italic">ebs_optimized</span>                        <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">false</span> -&gt; null
      - <span style="color:#8be9fd;font-style:italic">get_password_data</span>                    <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">false</span> -&gt; null
      - <span style="color:#8be9fd;font-style:italic">hibernation</span>                          <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">false</span> -&gt; null
      - <span style="color:#8be9fd;font-style:italic">id</span>                                   <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;i-xxxxxxxx&#34;</span> -&gt; null
      - <span style="color:#8be9fd;font-style:italic">instance_initiated_shutdown_behavior</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;stop&#34;</span> -&gt; null
      - <span style="color:#8be9fd;font-style:italic">instance_state</span>                       <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;running&#34;</span> -&gt; null
      - <span style="color:#8be9fd;font-style:italic">instance_type</span>                        <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;t2.micro&#34;</span> -&gt; null
      - <span style="color:#8be9fd;font-style:italic">ipv6_address_count</span>                   <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">0</span> -&gt; null
      - <span style="color:#8be9fd;font-style:italic">ipv6_addresses</span>                       <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">[]</span> -&gt; null
      - <span style="color:#8be9fd;font-style:italic">monitoring</span>                           <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">false</span> -&gt; null
      - <span style="color:#8be9fd;font-style:italic">primary_network_interface_id</span>         <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;eni-xxxxxxxx&#34;</span> -&gt; null
      - <span style="color:#8be9fd;font-style:italic">private_dns</span>                          <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;ip-172-31-14-53.us-west-2.compute.internal&#34;</span> -&gt; null
      - <span style="color:#8be9fd;font-style:italic">private_ip</span>                           <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;172.31.14.53&#34;</span> -&gt; null
      - <span style="color:#8be9fd;font-style:italic">public_dns</span>                           <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;ec2-52-12-153-104.us-west-2.compute.amazonaws.com&#34;</span> -&gt; null
      - <span style="color:#8be9fd;font-style:italic">public_ip</span>                            <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;52.12.153.104&#34;</span> -&gt; null
      - <span style="color:#8be9fd;font-style:italic">secondary_private_ips</span>                <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">[]</span> -&gt; null
      - <span style="color:#8be9fd;font-style:italic">security_groups</span>                      <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">[</span>
          - <span style="color:#f1fa8c">&#34;default&#34;</span>,
        <span style="color:#ff79c6">]</span> -&gt; null
      - <span style="color:#8be9fd;font-style:italic">source_dest_check</span>                    <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">true</span> -&gt; null
      - <span style="color:#8be9fd;font-style:italic">subnet_id</span>                            <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;subnet-xxxxxxxx&#34;</span> -&gt; null
      - <span style="color:#8be9fd;font-style:italic">tags</span>                                 <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">{</span>
          - <span style="color:#f1fa8c">&#34;Name&#34;</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;ExampleAppServerInstance&#34;</span>
        <span style="color:#ff79c6">}</span> -&gt; null
      - <span style="color:#8be9fd;font-style:italic">tags_all</span>                             <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">{</span>
          - <span style="color:#f1fa8c">&#34;Name&#34;</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;ExampleAppServerInstance&#34;</span>
        <span style="color:#ff79c6">}</span> -&gt; null
      - <span style="color:#8be9fd;font-style:italic">tenancy</span>                              <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;default&#34;</span> -&gt; null
      - <span style="color:#8be9fd;font-style:italic">user_data_replace_on_change</span>          <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">false</span> -&gt; null
      - <span style="color:#8be9fd;font-style:italic">vpc_security_group_ids</span>               <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">[</span>
          - <span style="color:#f1fa8c">&#34;sg-xxxxxxxx&#34;</span>,
        <span style="color:#ff79c6">]</span> -&gt; null

      - capacity_reservation_specification <span style="color:#ff79c6">{</span>
          - <span style="color:#8be9fd;font-style:italic">capacity_reservation_preference</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;open&#34;</span> -&gt; null
        <span style="color:#ff79c6">}</span>

      - credit_specification <span style="color:#ff79c6">{</span>
          - <span style="color:#8be9fd;font-style:italic">cpu_credits</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;standard&#34;</span> -&gt; null
        <span style="color:#ff79c6">}</span>

      - enclave_options <span style="color:#ff79c6">{</span>
          - <span style="color:#8be9fd;font-style:italic">enabled</span> <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">false</span> -&gt; null
        <span style="color:#ff79c6">}</span>

      - maintenance_options <span style="color:#ff79c6">{</span>
          - <span style="color:#8be9fd;font-style:italic">auto_recovery</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;default&#34;</span> -&gt; null
        <span style="color:#ff79c6">}</span>

      - metadata_options <span style="color:#ff79c6">{</span>
          - <span style="color:#8be9fd;font-style:italic">http_endpoint</span>               <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;enabled&#34;</span> -&gt; null
          - <span style="color:#8be9fd;font-style:italic">http_put_response_hop_limit</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">1</span> -&gt; null
          - <span style="color:#8be9fd;font-style:italic">http_tokens</span>                 <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;optional&#34;</span> -&gt; null
          - <span style="color:#8be9fd;font-style:italic">instance_metadata_tags</span>      <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;disabled&#34;</span> -&gt; null
        <span style="color:#ff79c6">}</span>

      - root_block_device <span style="color:#ff79c6">{</span>
          - <span style="color:#8be9fd;font-style:italic">delete_on_termination</span> <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">true</span> -&gt; null
          - <span style="color:#8be9fd;font-style:italic">device_name</span>           <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;/dev/sda1&#34;</span> -&gt; null
          - <span style="color:#8be9fd;font-style:italic">encrypted</span>             <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">false</span> -&gt; null
          - <span style="color:#8be9fd;font-style:italic">iops</span>                  <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">100</span> -&gt; null
          - <span style="color:#8be9fd;font-style:italic">tags</span>                  <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">{}</span> -&gt; null
          - <span style="color:#8be9fd;font-style:italic">throughput</span>            <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">0</span> -&gt; null
          - <span style="color:#8be9fd;font-style:italic">volume_id</span>             <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;vol-xxxxxxxx&#34;</span> -&gt; null
          - <span style="color:#8be9fd;font-style:italic">volume_size</span>           <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">8</span> -&gt; null
          - <span style="color:#8be9fd;font-style:italic">volume_type</span>           <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;gp2&#34;</span> -&gt; null
        <span style="color:#ff79c6">}</span>
    <span style="color:#ff79c6">}</span>

Plan: <span style="color:#bd93f9">0</span> to add, <span style="color:#bd93f9">0</span> to change, <span style="color:#bd93f9">1</span> to destroy.

Do you really want to destroy all resources?
  Terraform will destroy all your managed infrastructure, as shown above.
  There is no undo. Only <span style="color:#f1fa8c">&#39;yes&#39;</span> will be accepted to confirm.

  Enter a value: yes

aws_instance.app_server: Destroying... <span style="color:#ff79c6">[</span><span style="color:#8be9fd;font-style:italic">id</span><span style="color:#ff79c6">=</span>i-xxxxxxxx<span style="color:#ff79c6">]</span>
aws_instance.app_server: Still destroying... <span style="color:#ff79c6">[</span><span style="color:#8be9fd;font-style:italic">id</span><span style="color:#ff79c6">=</span>i-xxxxxxxx, 10s elapsed<span style="color:#ff79c6">]</span>
aws_instance.app_server: Still destroying... <span style="color:#ff79c6">[</span><span style="color:#8be9fd;font-style:italic">id</span><span style="color:#ff79c6">=</span>i-xxxxxxxx, 20s elapsed<span style="color:#ff79c6">]</span>
aws_instance.app_server: Still destroying... <span style="color:#ff79c6">[</span><span style="color:#8be9fd;font-style:italic">id</span><span style="color:#ff79c6">=</span>i-xxxxxxxx, 30s elapsed<span style="color:#ff79c6">]</span>
aws_instance.app_server: Destruction <span style="color:#8be9fd;font-style:italic">complete</span> after 30s

Destroy complete! Resources: <span style="color:#bd93f9">1</span> destroyed.
</code></pre></td></tr></table>
</div>
</div><p><code>- resource &quot;aws_instance&quot; &quot;app_server&quot;</code>ëŠ” ë¦¬ì†ŒìŠ¤ê°€ ì‚­ì œëœë‹¤ëŠ” ì˜ë¯¸ì´ë©°, <code>terraform apply</code>ì™€ ë™ì¼í•˜ê²Œ ì•„ë˜ ë¸”ë¡ì—ì„œ ì–´ë–¤ ì‹ìœ¼ë¡œ ë³€ê²½ë˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
<code>Plan: 0 to add, 0 to change, 1 to destroy.</code>ì—ì„œëŠ” ì‘ì—…ì˜ ê²°ê³¼ë¥¼ ë¯¸ë¦¬ í™•ì¸í•  ìˆ˜ ìˆê³ , <code>Enter a value:</code>ì—ì„œ <code>yes</code>ë¥¼ ì…ë ¥í•˜ë©´ ì‘ì—…ì„ ì‹œì‘í•œë‹¤.
ê·¸ ê²°ê³¼ í•˜ë‹¨ì—ì„œ ëª¨ë“  ì‘ì—…ì´ ì™„ë£Œë˜ê³  ë¦¬ì†ŒìŠ¤ê°€ ì‚­ì œë˜ì—ˆë‹¤ëŠ” ë¬¸êµ¬ê°€ ë‚˜íƒ€ë‚œë‹¤.</p>
<p>AWS ì½˜ì†”ì—ì„œ í™•ì¸ ê²°ê³¼ ëª¨ë“  ì¸ìŠ¤í„´ìŠ¤ê°€ ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œ ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>
<p><img src="/images/cloud/terraform/terraform_with_aws/terraform_with_aws_06.png" alt=""></p></section>
    <footer>
    <div class="tags">
        
        <a href="https://mingzz1.github.io//tags#AWS">#AWS</a>
        
        <a href="https://mingzz1.github.io//tags#Terraform">#Terraform</a>
        
    </div>
</footer>
</article>

<div class="comments">
    <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'mingzzis-blog';
    (function () {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
</div>

<div id="post-nav">
    <div id="previous-post" class="post-nav-post">
        
        <p>Previous post</p>
        <a href="https://mingzz1.github.io/development/cloud/2022/06/07/terraform-installation.html/">[Terraform ì‚¬ìš©ê¸°] Terraform ì„¤ì¹˜í•˜ê¸°</a>
        
    </div>

    <div id="next-post" class="post-nav-post">
        
    </div>
</div>


    </div>
    <ul class='social'>
    
    <li>
        <a href="https://github.com/mingzz1" class="icon alt" target="_blank">
            <i class="fa fa-github fa-2x"></i>
        </a>
    </li>
    
    <li>
        <a href="https://www.linkedin.com/in/minji-kim-12986a145/" class="icon alt" target="_blank">
            <i class="fa fa-linkedin fa-2x"></i>
        </a>
    </li>
    
</ul>
<footer class="site-footer">
    <p ckass="text">Powered by <a href="https://mingzz1.github.io" target="_blank">mingzzi</a> with <a
            href="https://skye3133.github.io/" target="_blank">myund</a></p>
</footer>

    <script id="dsq-count-scr" src="//mingzzis-blog.disqus.com/count.js" async></script>

    
<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-130304424-1']);
    _gaq.push(['_trackPageview']);
    (function () {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>
    
</body>
</body>

</html>